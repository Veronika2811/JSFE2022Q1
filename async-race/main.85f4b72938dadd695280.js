(()=>{"use strict";var e={702:(e,t,a)=>{a.r(t)},453:(e,t,a)=>{a.r(t)},519:(e,t,a)=>{a.r(t)},363:(e,t,a)=>{a.r(t)},57:(e,t,a)=>{a.r(t)},552:(e,t,a)=>{a.r(t)},373:(e,t,a)=>{a.r(t)},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SORTER_ORDER=t.SORTER=t.MAX_ITEMS_PER_PAGE_WINNERS=t.CAR_MODAL=t.CAR_BRAND=t.NUMBER_OF_WINS=t.MAX_ITEMS_PER_PAGE_GARAGE=void 0,t.MAX_ITEMS_PER_PAGE_GARAGE=7,t.NUMBER_OF_WINS=1,t.CAR_BRAND=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],t.CAR_MODAL=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","C4 Cactus","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"],t.MAX_ITEMS_PER_PAGE_WINNERS=10,t.SORTER={byWins:"wins",byTime:"time"},t.SORTER_ORDER={byDecrease:"DESC",byIncrease:"ASC"}},804:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tableWinners=t.btnPrevWinners=t.btnNextWinners=t.currentWinnersPage=t.totalNumberOfWinners=t.containerWinners=t.sectionWinners=t.winnersSwitchButton=t.btnPrevGarage=t.btnNextGarage=t.removeBtn=t.selectBtn=t.containerCars=t.btnGenerate100Car=t.btnCreateCar=t.btnUpdateCar=t.carColorUpdate=t.carNameUpdate=t.currentGaragePage=t.totalNumberOfCars=t.containerGarage=t.sectionGarage=t.garageSwitchButton=void 0;const r=a(258);t.garageSwitchButton=(0,r.createDomButton)(["btn","green","btn-garage"],"to garage"),t.garageSwitchButton.disabled=!0,t.sectionGarage=(0,r.createDomNode)("section",["garage"]),t.containerGarage=(0,r.createDomNode)("div",["container-garage"]),t.totalNumberOfCars=(0,r.createDomNode)("span",["count-total"]),t.currentGaragePage=(0,r.createDomNode)("span",["current-page"]),t.carNameUpdate=(0,r.createDomInput)(["car-name-update"],[{type:"text"},{placeholder:"Update name car"},{disabled:"true"}]),t.carColorUpdate=(0,r.createDomInput)(["car-color"],[{type:"color"},{value:"#ffffff"},{disabled:"true"}]),t.btnUpdateCar=(0,r.createDomButton)(["btn","white","btn-update"],"update"),t.btnUpdateCar.disabled=!0,t.btnCreateCar=(0,r.createDomButton)(["btn","white","btn-create"],"create"),t.btnGenerate100Car=(0,r.createDomButton)(["btn","white","btn-generate"],"generate cars"),t.containerCars=(0,r.createDomNode)("div",["cars"]),t.selectBtn=(0,r.createDomButton)(["btn","white","btn-select"],"select"),t.removeBtn=(0,r.createDomButton)(["btn","white","btn-remove"],"remove"),t.btnNextGarage=(0,r.createDomButton)(["btn","green","btn-next"],"next"),t.btnPrevGarage=(0,r.createDomButton)(["btn","green","btn-prev"],"prev"),t.winnersSwitchButton=(0,r.createDomButton)(["btn","green","btn-winners"],"to winners"),t.sectionWinners=(0,r.createDomNode)("section",["winners","hide"]),t.containerWinners=(0,r.createDomNode)("div",["container-winners"]),t.totalNumberOfWinners=(0,r.createDomNode)("span",["count-total-win"]),t.currentWinnersPage=(0,r.createDomNode)("span",["current-page-win"]),t.btnNextWinners=(0,r.createDomButton)(["btn","green","btn-next-win"],"next"),t.btnPrevWinners=(0,r.createDomButton)(["btn","green","btn-prev-win"],"prev"),t.tableWinners=(0,r.createDomNode)("table",["table-wins"])},24:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(972);t.default=class{constructor(e="http://127.0.0.1:3000",t=`${e}/garage`,a=`${e}/engine`,r=`${e}/winners`){this.garageUrl=t,this.engineUrl=a,this.winnersUrl=r}async getCars(e,t=r.MAX_ITEMS_PER_PAGE_GARAGE){try{const a=await fetch(`${this.garageUrl}?_page=${e}&_limit=${t}`);return{items:await a.json(),count:a.headers.get("X-Total-Count")}}catch(e){console.warn(e)}}async getCar(e){try{const t=await fetch(`${this.garageUrl}/${e}`);return await t.json()}catch(e){console.warn(e)}}async createCar(e){try{const t=await fetch(this.garageUrl,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return await t.json()}catch(e){console.warn(e)}}async deleteCar(e){try{const t=await fetch(`${this.garageUrl}/${e}`,{method:"DELETE"});return await t.json()}catch(e){console.warn(e)}}async updateCar(e,t){try{const a=await fetch(`${this.garageUrl}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return await a.json()}catch(e){console.warn(e)}}async switchEngine(e,t){try{const a=await fetch(`${this.engineUrl}?id=${e}&status=${t}`,{method:"PATCH"});return await a.json()}catch(e){console.warn(e)}}async drive(e){try{const t=await fetch(`${this.engineUrl}?id=${e}&status=drive`,{method:"PATCH"});return 200===t.status?{...await t.json()}:{success:!1}}catch(e){console.warn(e)}}async createWinner(e){try{const t=await fetch(this.winnersUrl,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return await t.json()}catch(e){console.warn(e)}}async updateWinner(e,t){try{const a=await fetch(`${this.winnersUrl}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return await a.json()}catch(e){console.warn(e)}}async saveWinner({id:e,time:t}){try{if(404===(await fetch(`${this.winnersUrl}/${e}`)).status)return await this.createWinner({id:e,wins:r.NUMBER_OF_WINS,time:t});const a=await this.getWinner(e);return await this.updateWinner(e,{id:e,wins:a.wins+1,time:t<a.time?t:a.time})}catch(e){console.warn(e)}}async getWinner(e){try{const t=await fetch(`${this.winnersUrl}/${e}`);return await t.json()}catch(e){console.warn(e)}}async getWinners({page:e,limit:t=r.MAX_ITEMS_PER_PAGE_WINNERS,sort:a,order:n}){try{const r=a&&n?`&_sort=${a}&_order=${n}`:"",i=await fetch(`${this.winnersUrl}?_page=${e}&_limit=${t}${r}`),s=await i.json();return{items:await Promise.all(s.map((async e=>({...e,car:await this.getCar(e.id)})))),count:Number(i.headers.get("X-Total-Count"))}}catch(e){console.warn(e)}}async deleteWinner(e){try{const t=await fetch(`${this.winnersUrl}/${e}`,{method:"DELETE"});return await t.json()}catch(e){console.warn(e)}}}},258:(e,t)=>{function a(e,t,a,r){const n=document.createElement(e);return t&&t.forEach((e=>n.classList.add(e))),a&&a.append(n),r&&(n.textContent=r),n}Object.defineProperty(t,"__esModule",{value:!0}),t.createDomButton=t.createDomInput=t.createDomNode=void 0,t.createDomNode=a,t.createDomInput=function(e,t,r){const n=a("input",e,r);return t.forEach((e=>{for(const t in e)n.setAttribute(t,e[t])})),n},t.createDomButton=function(e,t,r,n){const i=a("button",e,r,t);return n&&n.forEach((e=>{for(const t in e)i.setAttribute(t,e[t])})),i}},34:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.raceCars=t.getCarsIdOnThePage=t.stopDriving=t.startDriving=t.trackElements=void 0;const n=a(804),i=r(a(24));function s(e){const t=document.querySelector(`[data-car='${e}']`);return{startBtn:t.querySelector(`[data-start='${e}']`),stopBtn:t.querySelector(`[data-stop='${e}']`),car:t.querySelector(`[data-id='${e}']`),btnRemove:t.querySelector(".btn-remove"),btnSelect:t.querySelector(".btn-select")}}async function o(e,t){t&&(n.btnNextGarage.disabled=!0,n.btnPrevGarage.disabled=!0,n.btnCreateCar.disabled=!0,n.btnGenerate100Car.disabled=!0);const{startBtn:a,stopBtn:r,car:o,btnRemove:c,btnSelect:d}=s(e);a.disabled=!0,r.disabled=!1,c.disabled=!0,d.disabled=!0;const{velocity:l,distance:h}=await(new i.default).switchEngine(e,"started"),u=Math.round(h/l),g=function(e,t,a){let r=0;const n={};return n.idAnimate=window.requestAnimationFrame((function i(s){r||(r=s);const o=s-r,c=Math.round(o*(t/a));e.style.transform=`translateX(${Math.min(c,t)}px)`,c<t&&(n.idAnimate=window.requestAnimationFrame(i))})),n}(o,document.querySelector(".car-track").offsetWidth,u),{success:m}=await(new i.default).drive(e);return m||window.cancelAnimationFrame(g.idAnimate),{success:m,id:e,time:u}}async function c(e,t){const{success:a,id:r,time:n}=await Promise.race(e);if(!a){const a=t.findIndex((e=>e===r));return c([...e.slice(0,a),...e.slice(a+1,e.length)],[...t.slice(0,a),...t.slice(a+1,t.length)])}return{...await(new i.default).getCar(r),time:+(n/1e3).toFixed(2)}}function d(){const e=[];return document.querySelectorAll(".car").forEach((t=>e.push(Number(t.dataset.id)))),e}t.trackElements=s,t.startDriving=o,t.stopDriving=async function(e){const{startBtn:t,stopBtn:a,car:r,btnRemove:n,btnSelect:o}=s(e);await(new i.default).switchEngine(e,"stopped"),window.cancelAnimationFrame(e),r.style.transform="",t.disabled=!1,a.disabled=!0,n.disabled=!1,o.disabled=!1},t.getCarsIdOnThePage=d,t.raceCars=async function(){const e=d(),t=e.map((e=>o(e,!0)));Promise.all(t).then((()=>{n.btnCreateCar.disabled=!1,n.btnGenerate100Car.disabled=!1,document.querySelector(".btn-reset").disabled=!1}));const a=await c(t,e);var r,i;return r=a.name,i=a.time,document.querySelector(".text-modal").innerHTML=`${r} went first (${i})`,document.querySelector(".overlay").classList.remove("hide"),document.body.classList.add("open"),a}},647:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return`<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="70px" height="50px" class='image-car' viewBox="0 0 1280.000000 640.000000" preserveAspectRatio="xMidYMid meet"> <metadata>\n  </metadata><g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)" fill="${e}" stroke="none">\n  <path d="M3525 5341 c-72 -18 -79 -28 -90 -121 -4 -30 -11 -62 -16 -71 -4 -9 -97 -51 -206 -94 -774 -304 -1348 -540 -1603 -661 -163 -77 -222 -91 -421 -104 -85 -5 -170 -14 -189 -20 -101 -32 -362 -58 -620 -63 l-115 -2 -47 -80 c-47 -78 -47 -80 -29 -100 34 -36 35 -77 5 -177 -30 -99 -34 -178 -19 -370 5 -67 4 -88 -6 -88 -29 0 -83 -56 -110 -114 -50 -106 -74 -343 -48 -467 13 -58 13 -62 3 -159 -5 -54 16 -238 28 -244 2 -1 29 -20 61 -41 73 -49 123 -103 132 -143 17 -79 167 -155 355 -181 104 -15 969 -97 1087 -104 l32 -2 5 160 c7 230 50 394 146 559 281 479 917 673 1405 429 316 -159 530 -424 598 -742 22 -106 29 -365 13 -519 l-8 -82 3002 0 c2855 0 3002 1 2995 18 -33 87 -56 325 -45 461 28 320 177 567 459 759 399 273 847 282 1243 24 239 -157 397 -392 460 -687 18 -84 15 -341 -5 -430 -8 -38 -14 -71 -12 -73 7 -8 386 20 478 34 180 28 253 65 304 152 24 41 28 57 28 127 -1 44 -9 117 -20 163 -18 79 -18 88 -2 190 31 199 40 306 41 497 1 176 -1 195 -23 260 -46 135 -103 190 -283 274 -222 104 -633 220 -1168 330 -523 108 -1524 210 -2054 211 l-229 0 -236 139 c-813 477 -1593 884 -1852 966 -498 157 -1598 195 -2892 100 l-188 -14 -47 30 c-92 58 -223 89 -297 70z m1912 -311 c13 -45 58 -305 88 -515 33 -226 74 -539 71 -542 -7 -7 -1672 40 -2054 58 -357 16 -464 56 -573 215 -62 91 -87 225 -59 326 12 40 56 74 192 148 369 198 799 289 1618 340 246 15 290 16 510 16 l194 -1 13 -45z m649 10 c383 -36 717 -86 934 -139 210 -52 451 -163 720 -332 141 -88 379 -259 380 -271 0 -5 -14 -8 -32 -8 -48 0 -114 -37 -140 -78 -24 -39 -30 -113 -15 -189 l9 -43 -904 0 -904 0 -176 540 -175 540 47 0 c25 0 141 -9 256 -20z"/>\n  <path d="M2617 3125 c-431 -82 -774 -440 -838 -875 -17 -117 -7 -292 24 -410 113 -436 497 -751 947 -777 507 -29 959 313 1076 813 28 117 26 348 -4 467 -94 378 -383 670 -760 768 -105 27 -336 34 -445 14z m378 -310 c84 -21 209 -85 280 -142 116 -94 210 -242 251 -393 23 -87 24 -260 0 -355 -58 -237 -242 -439 -473 -519 -531 -186 -1074 277 -969 828 30 152 94 274 206 386 111 110 237 178 385 206 84 16 235 11 320 -11z"/>\n  <path d="M2918 2568 c2 -90 7 -167 12 -172 17 -17 108 58 201 166 l51 57 -48 31 c-52 33 -131 65 -185 75 l-34 6 3 -163z"/>\n  <path d="M2591 2700 c-62 -22 -167 -82 -164 -94 3 -13 237 -216 249 -216 7 0 15 7 18 16 8 20 8 127 -1 232 -7 95 -8 96 -102 62z"/>\n  <path d="M3209 2355 c-57 -64 -105 -123 -107 -131 -6 -25 46 -35 157 -29 58 3 121 8 139 11 33 5 34 6 27 42 -7 44 -64 167 -92 201 l-19 24 -105 -118z"/>\n  <path d="M2260 2409 c-31 -44 -68 -133 -77 -186 l-6 -33 155 0 c165 0 201 9 181 44 -13 24 -204 216 -214 216 -5 0 -22 -18 -39 -41z"/>\n  <path d="M2786 2354 c-36 -35 0 -87 44 -64 26 14 26 56 1 70 -25 13 -27 13 -45 -6z"/>\n  <path d="M2751 2186 c-57 -32 -68 -111 -22 -157 43 -42 101 -43 143 -1 42 42 41 100 -1 143 -33 32 -78 38 -120 15z"/>\n  <path d="M2560 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20 -54 2z"/>\n  <path d="M3002 2124 c-27 -19 -28 -36 -3 -58 25 -23 61 -6 61 29 0 33 -30 49 -58 29z"/>\n  <path d="M2245 1993 c-77 -6 -76 -5 -59 -65 16 -55 61 -146 92 -186 l18 -23 103 122 c57 67 104 129 105 138 1 14 -14 16 -104 17 -58 0 -127 -1 -155 -3z"/>\n  <path d="M3165 1981 c-44 -4 -61 -10 -63 -22 -3 -16 210 -229 228 -229 22 0 86 141 105 228 l7 32 -109 -2 c-59 -1 -135 -4 -168 -7z"/>\n  <path d="M2776 1914 c-19 -18 -19 -20 -6 -45 6 -11 21 -19 35 -19 20 0 45 24 45 44 0 10 -32 36 -45 36 -7 0 -21 -7 -29 -16z"/>\n  <path d="M2589 1743 c-86 -90 -139 -151 -139 -162 0 -25 179 -101 236 -101 l27 0 -7 143 c-9 166 -13 187 -35 187 -9 0 -46 -30 -82 -67z"/>\n  <path d="M2936 1801 c-6 -10 -24 -168 -29 -258 -3 -60 -2 -63 19 -63 79 0 262 68 248 92 -5 7 -53 64 -108 126 -93 105 -117 124 -130 103z"/>\n  <path d="M10723 3125 c-318 -58 -597 -266 -743 -555 -223 -441 -98 -996 289 -1288 112 -84 188 -125 311 -166 274 -91 545 -70 802 61 552 282 735 983 392 1500 -225 339 -651 521 -1051 448z m385 -315 c348 -98 579 -443 532 -796 -67 -508 -596 -796 -1055 -574 -239 116 -396 352 -412 620 -20 335 192 640 516 745 122 40 289 42 419 5z"/>\n  <path d="M11017 2568 c3 -90 9 -167 14 -172 13 -14 53 18 155 122 l95 97 -23 18 c-50 40 -189 97 -235 97 -10 0 -11 -33 -6 -162z"/>\n  <path d="M10705 2706 c-50 -16 -133 -58 -163 -82 l-23 -19 121 -107 c67 -60 128 -108 135 -108 23 0 27 39 20 186 -8 162 -4 157 -90 130z"/>\n  <path d="M11307 2354 c-59 -65 -107 -126 -107 -136 0 -11 11 -18 38 -22 44 -7 278 7 289 17 15 16 -51 183 -94 236 l-19 24 -107 -119z"/>\n  <path d="M10362 2413 c-39 -62 -70 -134 -78 -184 l-7 -39 152 0 c86 0 161 5 172 10 17 10 18 13 5 38 -8 15 -59 71 -114 125 l-99 99 -31 -49z"/>\n  <path d="M10888 2359 c-24 -14 -23 -56 2 -69 44 -23 80 29 44 64 -18 19 -23 19 -46 5z"/>\n  <path d="M10851 2187 c-49 -29 -66 -101 -35 -146 9 -13 32 -29 50 -37 29 -12 39 -12 68 0 99 41 85 180 -19 192 -24 3 -50 -1 -64 -9z"/>\n  <path d="M10660 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20 -54 2z"/>\n  <path d="M11096 2124 c-9 -8 -16 -22 -16 -29 0 -13 26 -45 36 -45 20 0 44 25 44 45 0 14 -8 29 -19 35 -25 13 -27 13 -45 -6z"/>\n  <path d="M10335 1991 c-60 -6 -60 -6 -57 -36 9 -69 104 -248 122 -229 57 61 210 250 207 258 -4 12 -176 17 -272 7z"/>\n  <path d="M11267 1983 c-68 -5 -79 -19 -47 -60 23 -31 200 -193 210 -193 3 0 20 24 37 53 29 48 52 111 67 180 l6 27 -107 -2 c-60 -1 -134 -3 -166 -5z"/>\n  <path d="M10870 1910 c-16 -31 4 -62 38 -58 21 2 28 9 30 32 5 45 -47 65 -68 26z"/>\n  <path d="M10651 1703 c-56 -59 -101 -113 -101 -120 0 -28 172 -103 237 -103 l26 0 -7 123 c-10 179 -15 207 -36 207 -10 0 -63 -48 -119 -107z"/>\n  <path d="M11035 1801 c-7 -12 -23 -144 -29 -243 -4 -77 -4 -78 19 -78 45 0 130 22 193 51 l64 29 -19 23 c-65 82 -198 227 -209 227 -7 0 -15 -4 -19 -9z"/></g></svg>\n`}},221:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(972);function n(){let e="#";for(let t=0;t<6;t+=1)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}function i(e,t){const a=Math.random()*(t-e)+e;return Math.floor(a)}t.default=function(){return{name:`${r.CAR_BRAND[i(0,r.CAR_BRAND.length)]} ${r.CAR_MODAL[i(0,r.CAR_MODAL.length)]}`,color:`${n()}`}}},736:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(972),n=a(521),i=a(606);t.default=async function(e,t,a,s){let o;"Garage"===t?o=Math.ceil(n.currentNumberOfCars/r.MAX_ITEMS_PER_PAGE_GARAGE):"Winners"===t&&(o=Math.ceil(i.currentNumberOfWinners/10)),1===o&&(a.disabled=!0,s.disabled=!0),a.disabled=o===e,s.disabled=1===e}},559:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(251)),i=a(521),s=r(a(736)),o=a(606),c=r(a(221)),d=r(a(24)),l=a(106),h=a(34),u=a(804);class g extends n.default{constructor(){super(u.sectionGarage),this.sectionGarage=u.sectionGarage,this.currentPageWinners=l.currentPageWinners,this.loader=new d.default,this.createWinner=new o.WinnerRender(l.currentPageWinners),this.btnCreateCar.addEventListener("click",(()=>this.createNewCar())),this.btnGenerate100Car.addEventListener("click",(()=>this.generate100RandomCars())),this.btnRace.addEventListener("click",(()=>this.startRace())),this.btnResetRase.addEventListener("click",(()=>this.stopTheRace()))}async createNewCar(){""===this.carNameInput.value?alert("Enter the make of the car, please!"):(await this.loader.createCar({name:this.carNameInput.value,color:this.carColorInput.value}),this.carNameInput.value="",this.carColorInput.value="#ffffff",new i.CarRender(l.currentPageGarage).createCars(),(0,s.default)(l.currentPageGarage,"Garage",u.btnNextGarage,u.btnPrevGarage))}async generate100RandomCars(){for(let e=1;e<=100;e+=1)await this.loader.createCar((0,c.default)());new i.CarRender(l.currentPageGarage).createCars(),(0,s.default)(l.currentPageGarage,"Garage",u.btnNextGarage,u.btnPrevGarage)}async startRace(){this.btnRace.disabled=!0;const e=await(0,h.raceCars)();await this.loader.saveWinner({id:e.id,time:e.time}),this.createWinner.createWinners()}async stopTheRace(){this.btnRace.disabled=!1,this.btnResetRase.disabled=!0,(0,h.getCarsIdOnThePage)().forEach((e=>(0,h.stopDriving)(e))),(0,s.default)(l.currentPageGarage,"Garage",u.btnNextGarage,u.btnPrevGarage)}}t.default=g},137:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(885));class i extends n.default{constructor(){super(),this.overlay.addEventListener("click",(()=>this.closeModal()))}closeModal(){document.body.classList.remove("open"),this.overlay.classList.add("hide")}}t.default=i},462:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(421));class i extends n.default{constructor(){super(),this.winnersSwitchButton.addEventListener("click",(()=>this.getPageWinners())),this.garageSwitchButton.addEventListener("click",(()=>this.getPageGarage()))}getPageWinners(){this.sectionWinners.classList.remove("hide"),this.sectionGarage.classList.add("hide"),this.winnersSwitchButton.disabled=!0,this.garageSwitchButton.disabled=!1}getPageGarage(){this.sectionGarage.classList.remove("hide"),this.sectionWinners.classList.add("hide"),this.winnersSwitchButton.disabled=!1,this.garageSwitchButton.disabled=!0}}t.default=i},362:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TableWinnersListener=t.order=t.sort=void 0;const n=r(a(125)),i=a(606),s=a(106),o=a(972);t.sort=o.SORTER.byWins,t.order=o.SORTER_ORDER.byDecrease;class c extends n.default{constructor(){super(),this.winsCar.addEventListener("click",(()=>this.sortWins())),this.timeCar.addEventListener("click",(()=>this.sortTime()))}sortWins(){t.sort=o.SORTER.byWins,this.toogleClass(this.arroWins)}sortTime(){t.sort=o.SORTER.byTime,this.toogleClass(this.arrowTime)}toogleClass(e){e.matches(".up")?(e.classList.remove("up"),e.classList.add("down")):this.arrowTime.matches(".down")&&(e.classList.remove("down"),e.classList.add("up")),this.sorting()}sorting(){(t.sort===o.SORTER.byWins||t.sort===o.SORTER.byTime)&&(t.order=t.order===o.SORTER_ORDER.byIncrease?o.SORTER_ORDER.byDecrease:o.SORTER_ORDER.byIncrease,new i.WinnerRender(s.currentPageWinners).createWinners())}}t.TableWinnersListener=c},700:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(563)),i=a(804),s=r(a(773)),o=r(a(138)),c=a(106),d=r(a(462)),l=r(a(559)),h=r(a(137)),u=a(362),g=a(606),m=a(521);t.default=class{constructor(){this.sectionGarage=i.sectionGarage,this.sectionWinners=i.sectionWinners,this.containerWinners=i.containerWinners,this.containerGarage=i.containerGarage,this.containerCars=i.containerCars,this.headerRender=new n.default,this.pageSwitching=new d.default,this.controlButtonsRender=new l.default,this.titlePageRender=new s.default(this.sectionGarage,this.containerGarage,"Garage").garageTitle(),this.containerGarageCars=new o.default(this.containerGarage),this.cars=new m.CarRender(c.currentPageGarage),this.paginationPageGarage=new c.PaginationRender(this.containerGarage).paginationGarageRender(),this.modal=new h.default,this.winnersContent=new s.default(this.sectionWinners,this.containerWinners,"Winners").winnersTitle(),this.winnersTable=new u.TableWinnersListener,this.winner=new g.WinnerRender(c.currentPageWinners).createWinners(),this.paginationPageWinners=new c.PaginationRender(this.containerWinners).paginationWinnersRender()}}},521:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CarRender=t.currentNumberOfCars=void 0,a(702);const n=a(258),i=r(a(647)),s=r(a(24)),o=a(804),c=a(106),d=r(a(736)),l=a(34),h=a(606);t.CarRender=class{constructor(e){this.loader=new s.default,this.totalNumberOfCars=o.totalNumberOfCars,this.currentGaragePage=o.currentGaragePage,this.carNameUpdate=o.carNameUpdate,this.carColorUpdate=o.carColorUpdate,this.btnUpdateCar=o.btnUpdateCar,this.containerCars=o.containerCars,this.createWinner=new h.WinnerRender(c.currentPageWinners),this.currentPageGarage=e,this.createCars()}createCar(e){this.carsItem=(0,n.createDomNode)("div",["cars-item"],this.containerCars),this.carsWrapper=(0,n.createDomNode)("div",["cars-wrapper"],this.carsItem),this.carsWrapper.setAttribute("data-car",`${e.id}`),this.line=(0,n.createDomNode)("div",["line"],this.carsItem),this.carButtons=(0,n.createDomNode)("div",["car-buttons"],this.carsWrapper),this.selectBtn=(0,n.createDomButton)(["btn","white","btn-select"],"select",this.carButtons),this.selectBtn.addEventListener("click",(()=>this.selectCar(e.id,e.color,e.name))),this.removeBtn=(0,n.createDomButton)(["btn","white","btn-remove"],"remove",this.carButtons),this.removeBtn.addEventListener("click",(()=>this.removeCar(e.id))),this.carName=(0,n.createDomNode)("span",["car-name"],this.carButtons,`${e.name}`),this.highway=(0,n.createDomNode)("div",["highway"],this.carsWrapper),this.engineButtons=(0,n.createDomNode)("div",["engine-buttons"],this.highway),this.carBtnA=(0,n.createDomButton)(["btn-engine","btn-start"],"A",this.engineButtons,[{"data-start":`${e.id}`}]),this.carBtnA.addEventListener("click",(()=>(0,l.startDriving)(Number(`${e.id}`)))),this.carBtnB=(0,n.createDomButton)(["btn-engine","btn-stop"],"B",this.engineButtons,[{disabled:"disabled"},{"data-stop":`${e.id}`}]),this.carBtnB.addEventListener("click",(()=>(0,l.stopDriving)(Number(`${e.id}`)))),this.carTrack=(0,n.createDomNode)("div",["car-track"],this.highway),this.car=(0,n.createDomNode)("div",["car"],this.carTrack,""),this.car.setAttribute("data-id",`${e.id}`),this.imageCar=(0,i.default)(`${e.color}`),this.car.innerHTML=this.imageCar}async createCars(){const e=await this.loader.getCars(this.currentPageGarage);this.totalNumberOfCars.innerHTML=` (${e?.count})`,t.currentNumberOfCars=Number(e?.count),this.currentGaragePage.innerHTML=`${this.currentPageGarage}`,this.containerCars.innerHTML="",e?.items.forEach((e=>this.createCar(e))),(0,d.default)(this.currentPageGarage,"Garage",o.btnNextGarage,o.btnPrevGarage)}async removeCar(e){this.loader.deleteCar(e),this.createCars(),(0,d.default)(this.currentPageGarage,"Garage",o.btnNextGarage,o.btnPrevGarage),this.loader.deleteWinner(e),new h.WinnerRender(c.currentPageWinners),(0,d.default)(c.currentPageWinners,"Winners",o.btnNextWinners,o.btnPrevWinners)}selectCar(e,t,a){const r=[this.carNameUpdate,this.carColorUpdate,this.btnUpdateCar];r.forEach((e=>{e.disabled=!1})),this.carNameUpdate.value=a,this.carColorUpdate.value=t,this.btnUpdateCar.addEventListener("click",(async()=>{""===this.carNameUpdate.value?alert("Enter the make of the car, please!"):(await this.loader.updateCar(e,{name:o.carNameUpdate.value,color:o.carColorUpdate.value}),this.carNameUpdate.value="",this.carColorUpdate.value="#ffffff",r.forEach((e=>{e.disabled=!0})),this.createCars())}))}}},138:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(804);t.default=class{constructor(e){this.containerCars=r.containerCars,this.containerGarage=e,this.containerGarage.append(this.containerCars)}}},251:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),a(453);const r=a(258),n=a(804);t.default=class{constructor(e){this.btnCreateCar=n.btnCreateCar,this.carNameUpdate=n.carNameUpdate,this.carColorUpdate=n.carColorUpdate,this.btnUpdateCar=n.btnUpdateCar,this.btnGenerate100Car=n.btnGenerate100Car,this.sectionGarage=e,this.controlButtons=(0,r.createDomNode)("div",["control-btn"],this.sectionGarage),this.createCarForm=(0,r.createDomNode)("div",["create-car"],this.controlButtons),this.updateCarForm=(0,r.createDomNode)("div",["update-car"],this.controlButtons),this.controlRaceButtons=(0,r.createDomNode)("div",["control-race-buttons"],this.controlButtons),this.carNameInput=(0,r.createDomInput)(["car-name-create"],[{type:"text"},{placeholder:"Enter name car"}],this.createCarForm),this.carColorInput=(0,r.createDomInput)(["car-color"],[{type:"color"},{value:"#ffffff"}],this.createCarForm),this.createCarForm.append(this.btnCreateCar),this.updateCarForm.append(this.carNameUpdate,this.carColorUpdate,this.btnUpdateCar),this.btnRace=(0,r.createDomButton)(["btn","green","btn-race"],"race",this.controlRaceButtons),this.btnResetRase=(0,r.createDomButton)(["btn","white","btn-reset"],"reset",this.controlRaceButtons,[{disabled:"true"}]),this.controlRaceButtons.append(n.btnGenerate100Car)}}},885:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(258);a(519),t.default=class{constructor(){this.overlay=(0,r.createDomNode)("div",["overlay","hide"],document.body),this.modal=(0,r.createDomNode)("div",["modal"],this.overlay),this.text=(0,r.createDomNode)("p",["text-modal"],this.modal)}}},563:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),a(363);const r=a(258),n=a(804);t.default=class{constructor(){this.garageSwitchButton=n.garageSwitchButton,this.winnersSwitchButton=n.winnersSwitchButton,(0,r.createDomNode)("header",["header"],document.body).append(this.garageSwitchButton,this.winnersSwitchButton)}}},421:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(258),n=a(804);t.default=class{constructor(){this.garageSwitchButton=n.garageSwitchButton,this.winnersSwitchButton=n.winnersSwitchButton,this.sectionGarage=n.sectionGarage,this.sectionWinners=n.sectionWinners,(0,r.createDomNode)("main",["main"],document.body).append(this.sectionGarage,this.sectionWinners)}}},773:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(258),n=a(804);t.default=class{constructor(e,t,a){this.totalNumberOfCars=n.totalNumberOfCars,this.currentGaragePage=n.currentGaragePage,this.totalNumberOfWinners=n.totalNumberOfWinners,this.currentWinnersPage=n.currentWinnersPage,this.page=e,this.pageContent=t,this.pageTitle=a,this.page.append(this.pageContent),this.pageName=(0,r.createDomNode)("h1",["title"],this.pageContent,this.pageTitle),this.pageText=(0,r.createDomNode)("h2",["page-text"],this.pageContent,"Page #")}garageTitle(){this.pageName.append(this.totalNumberOfCars),this.pageText.append(this.currentGaragePage)}winnersTitle(){this.pageName.append(this.totalNumberOfWinners),this.pageText.append(this.currentWinnersPage)}}},106:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationRender=t.currentPageWinners=t.currentPageGarage=void 0,a(57);const n=a(258),i=r(a(24)),s=a(606),o=a(521),c=a(804),d=a(972);t.currentPageGarage=1,t.currentPageWinners=1,t.PaginationRender=class{constructor(e){this.loader=new i.default,this.btnPrevGarage=c.btnPrevGarage,this.btnNextGarage=c.btnNextGarage,this.btnPrevWinners=c.btnPrevWinners,this.btnNextWinners=c.btnNextWinners,this.pagination=(0,n.createDomNode)("div",["pagination"],e)}paginationGarageRender(){this.pagination.append(this.btnPrevGarage,this.btnNextGarage),this.btnNextGarage.addEventListener("click",(()=>this.nextPageGarage())),this.btnPrevGarage.addEventListener("click",(()=>this.prevPageGarage()))}paginationWinnersRender(){this.pagination.append(this.btnPrevWinners,this.btnNextWinners),this.btnNextWinners.addEventListener("click",(()=>this.nextPageWinners())),this.btnPrevWinners.addEventListener("click",(()=>this.prevPageWinners()))}nextPageGarage(){t.currentPageGarage=this.updateNextPages(t.currentPageGarage,o.currentNumberOfCars,d.MAX_ITEMS_PER_PAGE_GARAGE),new o.CarRender(t.currentPageGarage)}nextPageWinners(){t.currentPageWinners=this.updateNextPages(t.currentPageWinners,s.currentNumberOfWinners,d.MAX_ITEMS_PER_PAGE_WINNERS),new s.WinnerRender(t.currentPageWinners).createWinners()}updateNextPages(e,t,a){const r=e+1;return r<=Math.ceil(t/a)&&(e=r),e}prevPageGarage(){t.currentPageGarage=this.updatePrevPages(t.currentPageGarage,o.currentNumberOfCars,d.MAX_ITEMS_PER_PAGE_GARAGE),new o.CarRender(t.currentPageGarage)}prevPageWinners(){t.currentPageWinners=this.updatePrevPages(t.currentPageWinners,s.currentNumberOfWinners,d.MAX_ITEMS_PER_PAGE_WINNERS),new s.WinnerRender(t.currentPageWinners).createWinners()}updatePrevPages(e,t,a){const r=e-1;return r<=Math.ceil(t/a)&&(e=r),e}}},606:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnerRender=t.currentNumberOfWinners=void 0,a(552);const n=r(a(24)),i=a(258),s=r(a(647)),o=a(804),c=a(106),d=a(362),l=r(a(736)),h=a(972);t.WinnerRender=class{constructor(e){this.tableWinners=o.tableWinners,this.loader=new n.default,this.totalNumberOfWinners=o.totalNumberOfWinners,this.currentWinnersPage=o.currentWinnersPage,this.containerWinners=o.containerWinners,this.currentPageWinners=e,this.createWinners()}createWinner(e){this.tbody=(0,i.createDomNode)("tbody",["tbody"],this.tableWinners),this.td=(0,i.createDomNode)("td",["td"],this.tbody,`${e.index}`),this.tdImage=(0,i.createDomNode)("td",["td"],this.tbody),this.tdImage.innerHTML=(0,s.default)(e.color),this.td=(0,i.createDomNode)("td",["td"],this.tbody,`${e.name}`),this.td=(0,i.createDomNode)("td",["td"],this.tbody,`${e.wins}`),this.td=(0,i.createDomNode)("td",["td"],this.tbody,`${e.time}`)}async createWinners(){const e=await this.loader.getWinners({page:this.currentPageWinners,limit:h.MAX_ITEMS_PER_PAGE_WINNERS,sort:d.sort,order:d.order});for(this.totalNumberOfWinners.innerHTML=` (${e?.count})`,this.currentWinnersPage.innerHTML=`${this.currentPageWinners}`,t.currentNumberOfWinners=Number(e?.count);this.tableWinners.children.length>1;)this.tableWinners.lastChild&&this.tableWinners.removeChild(this.tableWinners.lastChild);e?.items.forEach(((e,t)=>{this.createWinner({index:Number(`${(this.currentPageWinners-1)*h.MAX_ITEMS_PER_PAGE_WINNERS+t+1}`),color:e.car.color,name:e.car.name,wins:e.wins,time:e.time})})),(0,l.default)(c.currentPageWinners,"Winners",o.btnNextWinners,o.btnPrevWinners)}}},125:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(258),n=a(804);t.default=class{constructor(){this.containerWinners=n.containerWinners,this.tableWinners=n.tableWinners,this.tableWinners.innerHTML="",this.containerWinners.append(this.tableWinners),this.thead=(0,r.createDomNode)("thead",["thead-table"],this.tableWinners),this.numCar=(0,r.createDomNode)("th",["num-car"],this.thead,"#"),this.imageCar=(0,r.createDomNode)("th",["image-car-win"],this.thead,"Car"),this.nameCar=(0,r.createDomNode)("th",["name-car-win"],this.thead,"Name"),this.winsCar=(0,r.createDomNode)("th",["wins-car"],this.thead,"Wins"),this.arroWins=(0,r.createDomNode)("span",["arrow","up","wins-arrow"],this.winsCar),this.timeCar=(0,r.createDomNode)("th",["time-car"],this.thead,"Best time"),this.arrowTime=(0,r.createDomNode)("span",["arrow","up","time-arrow"],this.timeCar)}}},607:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),a(373),new(r(a(700)).default)}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,a),i.exports}a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(607)})();